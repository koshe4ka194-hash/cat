<!DOCTYPE html>
<html>
<head>
    <title>Constructor for Genially Neuro-Game</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #f0f2f5; padding: 20px; color: #333; }
        .container { max-width: 800px; margin: 0 auto; background: white; padding: 30px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        h1 { color: #2c3e50; text-align: center; }
        .form-group { margin-bottom: 20px; }
        label { display: block; font-weight: bold; margin-bottom: 5px; color: #444; }
        input[type="text"], textarea, input[type="number"] { 
            width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; 
        }
        textarea { height: 80px; resize: vertical; }
        .row { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        button { 
            width: 100%; padding: 15px; background: #3498db; color: white; border: none; 
            border-radius: 8px; font-size: 16px; cursor: pointer; transition: 0.3s;
        }
        button:hover { background: #2980b9; }
        #output-area { margin-top: 30px; display: none; }
        #final-code { background: #272822; color: #f8f8f2; padding: 15px; border-radius: 8px; font-family: monospace; font-size: 12px; height: 200px; }
        .hint { font-size: 12px; color: #7f8c8d; margin-top: 4px; }
    </style>
</head>
<body>

<div class="container">
    <h1>üß© –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∏–≥—Ä—ã ¬´–ù–µ–π—Ä–æ–ö–æ—Ç¬ª</h1>
    
    <div class="form-group">
        <label>‚úÖ –°—Å—ã–ª–∫–∏ –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∫–∞—Ä—Ç–∏–Ω–∫–∏ (–∫–æ—à–∫–∏):</label>
        <textarea id="t_links" placeholder="https://site.com/cat1.png, https://site.com/cat2.png"></textarea>
        <div class="hint">–†–∞–∑–¥–µ–ª—è–π—Ç–µ —Å—Å—ã–ª–∫–∏ –∑–∞–ø—è—Ç—ã–º–∏. –ö–∞—Ä—Ç–∏–Ω–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–∞ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–º —Ñ–æ–Ω–µ (PNG).</div>
    </div>

    <div class="form-group">
        <label>‚ùå –°—Å—ã–ª–∫–∏ –Ω–∞ –ª–∏—à–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç—ã:</label>
        <textarea id="d_links" placeholder="https://site.com/item1.png, https://site.com/item2.png"></textarea>
    </div>

    <div class="row">
        <div class="form-group">
            <label>‚è± –í—Ä–µ–º—è (—Å–µ–∫—É–Ω–¥—ã):</label>
            <input type="number" id="t_time" value="30">
        </div>
        <div class="form-group">
            <label>üé® –¶–≤–µ—Ç –º–∞—Ä–∫–µ—Ä–∞:</label>
            <input type="color" id="t_color" value="#00FF42" style="height: 40px; cursor: pointer;">
        </div>
    </div>

    <button onclick="generateCode()">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –¥–ª—è Genially</button>

    <div id="output-area">
        <label>üìã –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥ –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –≤ Genially:</label>
        <textarea id="final-code" readonly></textarea>
        <button onclick="copyCode()" style="background: #27ae60; margin-top: 10px;">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞</button>
    </div>
</div>

<script>
    function generateCode() {
        const targets = document.getElementById('t_links').value.split(',').map(s => s.trim()).filter(s => s.length > 5);
        const decoys = document.getElementById('d_links').value.split(',').map(s => s.trim()).filter(s => s.length > 5);
        const time = document.getElementById('t_time').value;
        const color = document.getElementById('t_color').value;

        if(targets.length === 0) { alert("–î–æ–±–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫–∏!"); return; }

        // –§–æ—Ä–º–∏—Ä—É–µ–º —á–∏—Å—Ç—ã–π JS-–º–∞—Å—Å–∏–≤ –¥–ª—è –≤–Ω–µ–¥—Ä–µ–Ω–∏—è
        const targetsJSON = JSON.stringify(targets);
        const decoysJSON = JSON.stringify(decoys);

        const result = `<div id="FX_GENIALLY_GAME" style="width:100%; height:500px; overflow:hidden; position:relative; background:#ffffff; border-radius:10px;">
<style>
  #game_stage { position:absolute; width:100%; height:100%; top:0; left:0; }
  .layer-item { position:absolute; width:100%; height:100%; background-size:contain; background-repeat:no-repeat; background-position:center; cursor:pointer; transition: 0.3s; }
  #timer_line { position:absolute; top:0; left:0; height:8px; background:${color}; width:100%; z-index:10; transition: width 1s linear; }
</style>
<div id="timer_line"></div>
<div id="game_stage"></div>
<script>
(function(){
  const ts = ${targetsJSON};
  const ds = ${decoysJSON};
  const gameTime = ${time};
  const marker = "${color}";
  const stage = document.getElementById('game_stage');
  const line = document.getElementById('timer_line');
  let foundCount = 0;
  let timeLeft = gameTime;

  let items = [...ts.map(u=>({u, t:true})), ...ds.map(u=>({u, t:false}))].sort(()=>Math.random()-0.5);

  items.forEach(item => {
    const d = document.createElement('div');
    d.className = 'layer-item';
    d.style.backgroundImage = "url('" + item.u + "')";
    d.style.transform = "rotate(" + (Math.random()*40-20) + "deg) scale("+(0.8+Math.random()*0.3)+")";
    d.onclick = function() {
      if(item.t && !this.dataset.found) {
        this.style.filter = "drop-shadow(0 0 10px "+marker+") drop-shadow(0 0 5px "+marker+")";
        this.dataset.found = true;
        foundCount++;
        if(foundCount === ts.length) { clearInterval(it); setTimeout(()=>alert("–ü–æ–±–µ–¥–∞!"), 500); }
      } else if(!item.t) {
        this.style.opacity = "0.5"; setTimeout(()=>this.style.opacity="1", 500);
      }
    };
    stage.appendChild(d);
  });

  const it = setInterval(()=>{
    timeLeft--;
    line.style.width = (timeLeft/gameTime*100) + "%";
    if(timeLeft <= 0) { clearInterval(it); alert("–í—Ä–µ–º—è –≤—ã—à–ª–æ!"); }
  }, 1000);
})();
<\/script>
</div>`;

        document.getElementById('final-code').value = result;
        document.getElementById('output-area').style.display = 'block';
    }

    function copyCode() {
        const copyText = document.getElementById("final-code");
        copyText.select();
        document.execCommand("copy");
        alert("–ö–æ–¥ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω!");
    }
</script>

</body>
</html>
